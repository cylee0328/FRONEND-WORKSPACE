<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=>, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>자바스크립트 수업내용</h1>
    
    <ul>
        <li type=1><a href="">자바스크립트 개요</a>
            <ul>   
                <li>스크립트 개요</li>
                <li>자바스크립트 사용법</li>
                <li>자바스크립트 데이터 입출력</li>
                <li>HTML태그에 접근하기</li>
            </ul>
        </li>
        <li type=1><a href="">기본문법</a>
            <ul>
                <li>변수와 자료형</li>
                <li>데이터 형변환</li>
                <li>연산자</li>
                <li>조건문과 반복문</li>
            </ul>
        </li>
        <li type=1>연습문제1
            <ul>
                <li><a href="">책 카테고리 선택</li></a>
                <li><a href="">간단 계산</li></a>
                <li><a href="">회원가입</li></a>
            </ul>
        </li>
    </ul>   
       
    
    <h3>Practice 1</h3>
<fieldset>
    <legend>취미</legend>
    <table>
        <tr>
            <td>
                <input type="checkbox" name="checkAll" value="전체선택" id="selectAll" onclick="selectAll();">
                <label for="checkAll">전체선택</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="종합" id="all">
                <label for="all">종합</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="소설" id="fiction">
                <label for="fiction">소설</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="시/에세이" id="essay">
                <label for="essay">시/에세이</label>                       
            </td>
            <td>
                <input type="checkbox" name="category" value="경제/경영" id="economy">
                <label for="economy">경제/경영</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="자기계발" id="develop">
                <label for="develop">자기계발</label>
            </td>
            <td>                     
                <input type="checkbox" name="category" value="아동" id="kid">
                <label for="kid">아동</label>
            </td>
        </tr>
        <tr>
            <td></td>
            <td>
                <input type="checkbox" name="category" value="여행" id="say">
                <label for="say">여행</label>
            </td>
            
            <td>
                <input type="checkbox" name="category" value="과학" id="science">
                <label for="science">과학</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="역사/문화" id="history">
                <label for="history">역사/문화</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="외국어" id="foregin">
                <label for="foregin">외국어</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="컴퓨터" id="computer">
                <label for="computer">컴퓨터</label>
            </td>
            <td>
                <input type="checkbox" name="category" value="만화" id="comic">
                <label for="comic">만화</label>
            </td>
        </tr>
    </table>
</fieldset>

    <br><br>
    <button onclick="printCategory()">카테고리 선택</button><br>
    <div id="area" style="border : 1px solid red; width :100%; height:300px;">
    </div>

    <script>

        let categorys = document.getElementsByName("category");

        for(let i=0; i<categorys.length; i++){
            categorys[i].onclick = function (){
                let checkedListLength = document.querySelectorAll("input[name=category]:checked").length;
                // 선택된 체크박스 길이 == 전체 체크박스 길이
                if(checkedListLength == categorys.length){
                    document.getElementById("selectAll").checked = true;
                }else{
                    document.getElementById("selectAll").checked = false;

                }
                //전체 체크박스 길이 : 12
                //alert(i + "번째 체크박스 클릭됨");
            }
        }

        // document.getElementById("comic").onclick = function (){
        //     alert("클릭됨")
        // }

        function printCategory(){
            //내가 선택한(checked) 체크박스의 value값들을 div태그중 아이디값이 area인 요소에
            //안쪽(innerHTML)에 출력.

            let checkedList = document.querySelectorAll("input[type=checkbox]:checked");
            
            let area = document.getElementById("area");
            console.log(checkedList);

            // checkedList.forEach(function(item,index,array){
            //     area.innerHTML += item.value + " ";
            // }) // 향상된 반복문으로 출력할시 

            for(let i=0; i<checkedList.length; i++){
                area.innerHTML += checkedList[i].value + " ";
            }
        }

        function selectAll(){
            let checked = document.getElementById("selectAll").checked;

            let categorys = document.getElementsByName('category');

            for(let i =0; i<categorys.length; i++){
                categorys[i].checked = checked;
            }

        }
           
    </script>
</body>
</html>